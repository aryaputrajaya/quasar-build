"use strict";(self["webpackChunksalsavica"]=self["webpackChunksalsavica"]||[]).push([[979],{6391:(a,t,e)=>{e.r(t),e.d(t,{default:()=>J});var l=e(3673);function o(a,t,e,o,n,s){const u=(0,l.up)("form-modal");return(0,l.wg)(),(0,l.j4)(u,{editMode:!1,title:"Tambah"})}var n=e(2323);const s={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},u={class:"row q-mt-sm q-gutter-md"},i={class:"row col fit"},r={class:"col"},d={class:"col-2 q-table__title"},m={class:"text-caption"},p={class:"row q-gutter-sm"},c={class:"col"},h={class:"col"},_={class:"row q-gutter-sm"},f={class:"col"},g={class:"col"},b={class:"row q-gutter-sm q-mb-md"},j={class:"col"},w={class:"row col fit"},v={class:"row q-gutter-sm items-center"},y={class:"col"},k={class:"col"},q=(0,l._)("div",null," Silahkan pilih barang yang akan di keluarkan (produksi). ",-1),W=(0,l._)("div",null," Masukan jumlah setiap barang yang akan di keluarkan. ",-1),V=(0,l._)("div",null," Berikan keterangan kegunaan barang di keluarkan lalu tekan submit. ",-1);function S(a,t,e,o,S,Z){const Q=(0,l.up)("q-breadcrumbs-el"),M=(0,l.up)("q-breadcrumbs"),x=(0,l.up)("q-card"),T=(0,l.up)("q-input"),C=(0,l.up)("q-select"),P=(0,l.up)("q-btn"),z=(0,l.up)("q-form"),$=(0,l.up)("q-card-section"),B=(0,l.up)("lottie"),D=(0,l.up)("q-timeline-entry"),E=(0,l.up)("q-timeline"),R=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(R,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(x,{class:"my-card q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{label:"Extras",icon:"widgets"}),(0,l.Wm)(Q,{label:"Modal",icon:"payments"}),this.editMode?((0,l.wg)(),(0,l.j4)(Q,{key:0,label:"Edit Modal",icon:"edit"})):((0,l.wg)(),(0,l.j4)(Q,{key:1,label:"Tambah Modal",icon:"add"}))])),_:1})])),_:1}),(0,l._)("div",u,[(0,l._)("div",i,[(0,l.Wm)(x,{class:"my-card col",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)($,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"col q-pa-lg"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",d,(0,n.zw)(this.title)+" Data Modal",1),(0,l._)("p",m,"Form "+(0,n.zw)(this.title)+" data modal salsafical.",1)]),(0,l.Wm)(z,{onSubmit:Z.onSubmit,onReset:Z.onReset},{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("div",c,[(0,l.Wm)(T,{filled:"",modelValue:S.form.id_pengeluaran,"onUpdate:modelValue":t[0]||(t[0]=a=>S.form.id_pengeluaran=a),label:"Modal ID","lazy-rules":"",dense:"",readonly:"",rules:[a=>a&&a.length>0||"Please type something"]},null,8,["modelValue","rules"])]),(0,l._)("div",h,[(0,l.Wm)(C,{outlined:"",modelValue:S.form.jenis_modal,"onUpdate:modelValue":t[1]||(t[1]=a=>S.form.jenis_modal=a),dense:"","lazy-rules":"",filled:"",options:S.options.jenis_modal,label:"Jenis modal"},null,8,["modelValue","options"])])]),(0,l._)("div",_,[(0,l._)("div",f,[(0,l.Wm)(T,{filled:"",modelValue:S.form.jumlah_retur,"onUpdate:modelValue":t[2]||(t[2]=a=>S.form.jumlah_retur=a),label:"Pemberi modal","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Please type something"]},null,8,["modelValue","rules"])]),(0,l._)("div",g,[(0,l.Wm)(T,{filled:"",modelValue:S.form.jumlah_retur,"onUpdate:modelValue":t[3]||(t[3]=a=>S.form.jumlah_retur=a),label:"Jumlah modal diterima","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Please type something"]},null,8,["modelValue","rules"])])]),(0,l._)("div",b,[(0,l._)("div",j,[(0,l.Wm)(T,{modelValue:S.form.keterangan_product,"onUpdate:modelValue":t[4]||(t[4]=a=>S.form.keterangan_product=a),filled:"",dense:"",label:"Keterangan",type:"textarea"},null,8,["modelValue"])])]),(0,l._)("div",null,[(0,l.Wm)(P,{label:"Submit",outline:"",type:"submit",color:"green",style:{width:"150px"}}),(0,l.Wm)(P,{label:"Reset",type:"reset",color:"red",outline:"",class:"q-ml-sm",style:{width:"150px"}})])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1})]),(0,l._)("div",w,[(0,l.Wm)(x,{class:"my-card q-pa-md col bg-blue-10"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{separator:"---",class:"text-white","active-color":"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{label:"Petunjuk penggunaan",icon:"lightbulb"})])),_:1})])),_:1}),(0,l.Wm)(x,{class:"my-card row q-mt-md",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)($,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"col"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",y,[(0,l.Wm)(B,{options:S.defaultOptions,onAnimCreated:Z.handleAnimation,style:{height:"250px"}},null,8,["options","onAnimCreated"])]),(0,l._)("div",k,[(0,l.Wm)(E,{color:"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{subtitle:"Tahap I",side:"left"},{default:(0,l.w5)((()=>[q])),_:1}),(0,l.Wm)(D,{subtitle:"Tahap 2",side:"right"},{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(D,{subtitle:"Tahap 3",side:"right"},{default:(0,l.w5)((()=>[V])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1})])])])])),_:1})}var Z=e(3945),Q=e(3535);let M=[];const x={components:{lottie:Z.Z},props:{editMode:Boolean,title:String},data(){return{form:{id_pengeluaran:this.$generateId(),products:[{product:null,jumlah_penjualan:null}],tanggal_jatuh_tempo:null,alamat_penagihan:null,nomor_telepon:null,pelanggan:null,keterangan_product:null,status_penjualan:null},options:{products:[],jenis_modal:["Mandiri","Dari Luar"]},defaultOptions:{animationData:Q},animationSpeed:2}},created(){this.getProduct()},methods:{handleAnimation:function(a){this.anim=a},stop:function(){this.anim.stop()},play:function(){this.anim.play()},pause:function(){this.anim.pause()},onSpeedChange:function(){this.anim.setSpeed(this.animationSpeed)},getProduct(){this.$api.get("product/get").then((a=>{M=a.data.result}))},filterProduct(a,t){t(""!==a?()=>{const t=a.toLowerCase();this.options.products=M.filter((a=>a.nama_product.toLowerCase().indexOf(t)>-1))}:()=>{this.options.products=M})},onSubmit(){const a=[];let t=0;for(const o in this.form.products)a.push({object_id:this.form.products[o].product._id,nama_product:this.form.products[o].product.nama_product,harga_jual:this.form.products[o].product.harga_jual,jumlah_penjualan:this.form.products[o].jumlah_penjualan,total:this.form.products[o].product.harga_jual*this.form.products[o].jumlah_penjualan,stokBaru:this.form.products[o].product.stok-this.form.products[o].jumlah_penjualan});a.forEach((a=>{t+=a.total}));const e={id_penjualan:this.form.id_penjualan,products:a,grandTotal:t,tanggal_jatuh_tempo:this.form.tanggal_jatuh_tempo,alamat_penagihan:this.form.alamat_penagihan,nomor_telepon:this.form.nomor_telepon,pelanggan:this.form.pelanggan,status_penjualan:this.form.status_penjualan};try{this.$api.post("penjualan/add",e).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.$router.go(-1),this.$showNotif("Data penjualan berhasil di input !","positive"))}))}catch(l){this.$showNotif("Terjadi kesalahan !","negative")}},onReset(){for(const a in this.form.products)this.form.products[a].product=null,this.form.products[a].jumlah_penjualan=null,a>0&&this.form.products.splice(a,1);this.form.tanggal_jatuh_tempo=null,this.form.alamat_penagihan=null,this.form.nomor_telepon=null,this.form.pelanggan=null,this.form.status_penjualan=null},add(a){this.form.products.push({product:null,jumlah_penjualan:null})},remove(a){this.form.products.splice(a,1)}}};var T=e(4379),C=e(151),P=e(1481),z=e(5926),$=e(5589),B=e(1993),D=e(5269),E=e(4689),R=e(3314),U=e(2165),A=e(1432),I=e(3424),L=e(7518),N=e.n(L);x.render=S;const O=x;N()(x,"components",{QPage:T.Z,QCard:C.Z,QBreadcrumbs:P.Z,QBreadcrumbsEl:z.Z,QCardSection:$.Z,QTable:B.Z,QForm:D.Z,QInput:E.Z,QSelect:R.Z,QBtn:U.Z,QTimeline:A.Z,QTimelineEntry:I.Z});const F={components:{formModal:O}};F.render=o;const J=F}}]);