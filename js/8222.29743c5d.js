"use strict";(self["webpackChunksalsavica"]=self["webpackChunksalsavica"]||[]).push([[8222],{8222:(e,a,t)=>{t.r(a),t.d(a,{default:()=>K});var l=t(3673),o=t(8880),s=t(2323);const i={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},r={class:"row q-mt-lg"},d={class:"row col-12"},n=(0,l._)("div",{class:"col"},[(0,l._)("div",{class:"col-2 q-table__title"},"Master Data Produk"),(0,l._)("p",{class:"text-caption"},"Data produk yang terdaftar di dalam sistem salsafical.")],-1),p={class:"row q-mt-md fit q-gutter-sm"},u={class:"col"},c=(0,l._)("div",{class:"col"},[(0,l._)("div",{class:"col-2 q-table__title"},"Master Data Jenis Produk"),(0,l._)("p",{class:"text-caption"},"Data jenis produk yang terdaftar di dalam sistem salsafical.")],-1),m={class:"col"},w=(0,l._)("div",{class:"col"},[(0,l._)("div",{class:"col-2 q-table__title"},"Master Data Kategori Produk"),(0,l._)("p",{class:"text-caption"},"Data kategori produk yang terdaftar di dalam sistem salsafical.")],-1);function f(e,a,t,f,g,k){const _=(0,l.up)("q-breadcrumbs-el"),h=(0,l.up)("q-breadcrumbs"),b=(0,l.up)("q-card"),y=(0,l.up)("q-space"),W=(0,l.up)("q-btn"),q=(0,l.up)("q-input"),v=(0,l.up)("q-slide-transition"),$=(0,l.up)("q-td"),z=(0,l.up)("q-badge"),P=(0,l.up)("q-img"),j=(0,l.up)("q-avatar"),Z=(0,l.up)("q-item-section"),Q=(0,l.up)("q-item"),x=(0,l.up)("q-tr"),T=(0,l.up)("q-table"),U=(0,l.up)("q-card-section"),C=(0,l.up)("q-page"),N=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(C,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(b,{class:"my-card q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{label:"Main Menu",icon:"widgets"}),(0,l.Wm)(_,{label:"Produk",icon:"emoji_events"})])),_:1})])),_:1}),(0,l._)("div",r,[(0,l._)("div",d,[(0,l.Wm)(b,{class:"my-card col",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"col-12 q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{title:"Master Data Produk","aria-label":"Text",class:"text-h5",rows:g.product.rows,flat:"",columns:g.product.columns,"row-key":"name",filter:g.filter},{top:(0,l.w5)((()=>[n,(0,l.Wm)(y),(0,l.Wm)(W,{flat:"",round:"",color:"primary",icon:"search",onClick:a[0]||(a[0]=e=>g.visible=!g.visible),size:"md",class:"q-mr-sm"}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(q,{outlined:"",debounce:"300",placeholder:"Cari..",style:{width:"300px"},color:"primary",modelValue:g.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>g.filter=e),dense:""},null,8,["modelValue"])],512),[[o.F8,g.visible]])])),_:1}),(0,l.Wm)(W,{dense:"",icon:"add",class:"q-ml-md q-pr-md q-mr-md",color:"blue-13",to:{name:"product_add"},label:"Tambah Produk",size:"md",outline:""})])),body:(0,l.w5)((a=>[(0,l.Wm)(x,{props:a},{default:(0,l.w5)((()=>[(0,l.Wm)($,{key:"product_id",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.row.product_id),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"namaProduk",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.row.nama_product),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"kategori",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.row.kategori),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"jenis",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.row.jenis),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"hpp",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{outline:"",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(this.$formatPrice(a.row.hpp)),1)])),_:2},1024)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"hargaJual",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{outline:"",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(this.$formatPrice(a.row.harga_jual)),1)])),_:2},1024)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"keuntungan",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{outline:"",color:"green"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(this.$formatPrice(a.row.keuntungan_per_product)),1)])),_:2},1024)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"stok",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.row.stok),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"foto",props:a},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(Q,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{rounded:"",size:"88px"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{src:`${e.$imgUrl}/${a.row.foto_product}`},null,8,["src"]),(0,l.Wm)(z,{floating:"",color:"blue-10"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(this.$parseDate(a.row.created_at).fullDate),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1536),[[N]])])),_:2},1032,["props"]),(0,l.Wm)($,{key:"keterangan",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(this.$subString(a.row.keterangan)),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"aksi",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"product_edit",params:{id:a.row._id}},"no-caps":""},null,8,["to"]),(0,l.Wm)(W,{round:"",outline:"",color:"red",size:"sm",icon:"delete",onClick:e=>this.deleteProduct(a.row._id),"no-caps":"",class:"q-ml-sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])),_:1})])),_:1})])),_:1})]),(0,l._)("div",p,[(0,l._)("div",u,[(0,l.Wm)(b,{class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"col q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{title:"Master Data Jenis Produk","aria-label":"Text",class:"text-h5",rows:g.jenis.rows,flat:"",columns:g.jenis.columns,"row-key":"name"},{top:(0,l.w5)((()=>[c,(0,l.Wm)(W,{dense:"",icon:"add",class:"q-ml-md q-pr-md",color:"blue-13",to:{name:"product_jenis_add"},label:"Tambah Jenis",size:"md",outline:""})])),body:(0,l.w5)((e=>[(0,l.Wm)(x,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)($,{key:"type_id",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.type_id),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"aksi",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"product_jenis_edit",params:{id:e.row._id}},"no-caps":""},null,8,["to"]),(0,l.Wm)(W,{round:"",outline:"",color:"red",size:"sm",icon:"delete",onClick:a=>this.delete(e.row._id),"no-caps":"",class:"q-ml-sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1})])),_:1})])),_:1})]),(0,l._)("div",m,[(0,l.Wm)(b,{class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"col q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{title:"Master Data Kategori Produk","aria-label":"Text",class:"text-h5",rows:g.kategori.rows,flat:"",columns:g.kategori.columns,"row-key":"name"},{top:(0,l.w5)((()=>[w,(0,l.Wm)(y),(0,l.Wm)(W,{dense:"",icon:"add",class:"q-ml-md q-pr-md",color:"blue-13",size:"md",to:{name:"product_kategori_add"},label:"Tambah Kategori",outline:""})])),body:(0,l.w5)((e=>[(0,l.Wm)(x,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)($,{key:"type_id",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.type_id),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)($,{key:"aksi",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{round:"",outline:"",color:"green",size:"sm",to:{name:"product_kategori_edit",params:{id:e.row._id}},icon:"edit","no-caps":""},null,8,["to"]),(0,l.Wm)(W,{round:"",outline:"",color:"red",size:"sm",icon:"delete",onClick:a=>this.delete(e.row._id),"no-caps":"",class:"q-ml-sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1})])),_:1})])),_:1})])])])])])),_:1})}t(7280);var g=t(2841);const k={name:"PageIndex",data(){return{visible:!1,filter:null,product:{columns:[{name:"product_id",required:!0,label:"ID_Produk",align:"left",field:"produt_id",sortable:!0},{name:"namaProduk",required:!0,label:"Nama produk",align:"left",field:"namaProduk",sortable:!0},{name:"kategori",required:!0,label:"Kategori",align:"left",field:"kategori",sortable:!0},{name:"jenis",required:!0,label:"Jenis",align:"left",field:"jenis",sortable:!0},{name:"hpp",required:!0,label:"HPP",align:"left",field:"hpp",sortable:!0},{name:"hargaJual",required:!0,label:"Harga jual",align:"left",field:"hargaJual",sortable:!0},{name:"keuntungan",required:!0,label:"Keuntungan per product",align:"left",field:"keuntungan",sortable:!0},{name:"stok",required:!0,label:"Stok",align:"left",field:"stok",sortable:!0},{name:"foto",required:!0,label:"Foto produk",align:"left",field:"foto",sortable:!0},{name:"keterangan",required:!0,label:"Keterangan",align:"left",field:"keterangan",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[]},jenis:{columns:[{name:"type_id",required:!0,label:"ID_Jenis",align:"left",field:"type_id",sortable:!0},{name:"name",required:!0,label:"Nama jenis",align:"left",field:"name",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[]},kategori:{columns:[{name:"type_id",required:!0,label:"ID_Kategori",align:"left",field:"type_id",sortable:!0},{name:"name",required:!0,label:"Nama kategori",align:"left",field:"name",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[]}}},created(){this.getJenis(),this.getKategori(),this.getProduct()},methods:{getProduct(){try{this.$api.get("product/get").then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):this.product.rows=e.data.result}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}},getJenis(){try{this.$api.get("type/gettype/Jenis").then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):this.jenis.rows=e.data.result}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}},getKategori(){try{this.$api.get("type/gettype/Kategori").then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):this.kategori.rows=e.data.result}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}},delete(e){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("type/deletetype/"+e).then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):(this.getJenis(),this.getKategori(),this.$showNotif(e.data.message,"positive"))}))}catch(a){console.log(a),this.$showNotif("Terjadi kesalahan !","negative")}}))},deleteProduct(e){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("product/delete/"+e).then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):(this.getProduct(),this.$showNotif(e.data.message,"positive"))}))}catch(a){console.log(a),this.$showNotif("Terjadi kesalahan !","negative")}}))},exportTable(){const e=[this.columns.map((e=>this.wrapCsvValue(e.label)))].concat(this.rows.map((e=>this.columns.map((a=>this.wrapCsvValue("function"===typeof a.field?a.field(e):e[void 0===a.field?a.name:a.field],a.format))).join(",")))).join("\r\n"),a=(0,g.Z)("table-export.csv",e,"text/csv");!0!==a&&this.$notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},wrapCsvValue(e,a){let t=void 0!==a?a(e):e;return t=void 0===t||null===t?"":String(t),t=t.split('"').join('""'),`"${t}"`}}};var _=t(4379),h=t(151),b=t(1481),y=t(5926),W=t(5589),q=t(1993),v=t(2025),$=t(2165),z=t(2471),P=t(4689),j=t(8186),Z=t(3884),Q=t(9721),x=t(3414),T=t(2035),U=t(5096),C=t(4152),N=t(6489),D=t(7518),J=t.n(D);k.render=f;const K=k;J()(k,"components",{QPage:_.Z,QCard:h.Z,QBreadcrumbs:b.Z,QBreadcrumbsEl:y.Z,QCardSection:W.Z,QTable:q.Z,QSpace:v.Z,QBtn:$.Z,QSlideTransition:z.Z,QInput:P.Z,QTr:j.Z,QTd:Z.Z,QBadge:Q.Z,QItem:x.Z,QItemSection:T.Z,QAvatar:U.Z,QImg:C.Z}),J()(k,"directives",{Ripple:N.Z})}}]);